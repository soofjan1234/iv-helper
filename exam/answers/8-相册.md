## 人脸检测和识别的流程

1. 人脸检测：使用了 OpenCV 的算法检测人脸，返回人脸的位置信息。
2. 人脸识别：使用了 OpenCV 的另一个算法，提取人脸特征向量
3. 人脸聚类：计算人脸特征之间的距离矩阵，再使用DBSCAN聚类，并得到每个类别的中心特征向量
4. 人脸分类：计算新人脸特征与聚类中心特征的距离，根据阈值来确定是加入还是创建新类别

## DBSCAN算法

拿社交圈举例：

1. 两个门槛：
    1. **eps（邻域半径）**：**“社交距离”**。就是你觉得多近才算“朋友圈”。比如 1 米内。
    2. **MinPts（最小点数）**：**“成群结队门槛”**。一个人带几个小弟才算“社交达人”？比如 3个。
2. 三个身份
    1. **核心点（大佬）**：1米内有3个
    2. **边界点（小弟）**：1米内不足3个，但在大佬的1米内
    3. **噪声点（独行侠）**：身边没人，也不在大佬圈子里
3. 聚类流程
    1. 随机抓一个人，看是否是大佬，是就把小弟都拉进来
    2. 再看小弟，是否也是大佬，如此套娃
    3. 知道所有人都被判定身份

## OpenCV 、**DBSCAN的技术选型**

1. OpenCV 是一个成熟稳定的计算机视觉库， 精度高、速度快，适用于实时应用。
此外，OpenCV 的模型文件较小，且开源免费。
2. 人脸聚类有K-Means、DBSCAN和HDBSCAN。
    1. **K-Means**：简单、易于理解；需要预先指定簇的数量。
    2. **DBSCAN**：适合处理噪声和复杂的簇形状；不需要预先指定簇的数量。
    3. **HDBSCAN**：更智能的聚类，处理复杂分布更稳健；比 DBSCAN 慢一些。

## **新照片来了怎么分类？**

1. 不重新聚类，而是计算新人脸与所有**聚类中心**的余弦距离
2. 距离 < 阈值 → 归入已有聚类
3. 距离 > 阈值 → 创建新聚类，该特征向量作为新聚类中心

## 讲讲策略模式

打车时可以选择不同的出行策略

1. 解耦：检索逻辑与具体实现分离
2. 开闭原则：新增部署模式只需实现接口，不改原有代码

## 还了解过什么设计模式

大体是三种：

1. 创建型模式：对象是怎么来的
2. 结构型模式：对象和对象怎么组合
3. 行为型模式：对象之间怎么沟通和分配职责

项目中有经常用到：

1. 单例模式：全局唯一的数据库连接池、配置加载器
2. 享元模式：复用已有的限流器，如果不存在才创建
3. 责任链模式：请求到达和处理之间，有许多处理器，比如日志、缓存、限流
4. 观察者模式：比如一个协程任务，完成了就去通知各个组件