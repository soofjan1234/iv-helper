# 全方向混合面试测试

> 生成时间: 2026-02-03 10:30
> 题目数量: 20 道（复习 12 道 + 新题 8 道）
> 题目来源: Go(4) + MySQL(4) + Redis(2) + 云端(2) + NSQ(3) + 文档中心(1) + 相册(3) + 其它(1)
> 重点: D/C 评分题优先复习

---

## 重点复习 - D/C 评分题 (7题)

### 第 1 题
**NAT 类型有哪些？哪种类型最容易打洞？** *(🔴D评分 - 明日到期)*

net类型主要分为一个是全锥形，它就是任何外部的请求的设备呢，它都能够访问到第二个是受限锥形，就是只有这个IP地址可以访问到。这两个呢相对来说比较容易打动。第三个是端口受限锥形。它就是需要相同的IP和端口才能访问。这个就比较难打洞一点。最后一个呢是对称型。就是要就是它会对每一个发出的请求呢都会设定一个新的IP和端口，所以这就非常难打洞，主要靠的是一个中继转发。（主要是对这些概念不清楚，就是究竟是哪边的IP地址可以访问到，就是前置对象和后置对象分别是谁，还不清楚。

---

### 第 2 题
**Topic 和 Channel 的关系是什么？消息是如何分发的？** *(🔴D评分 - 明日到期)*

在NSQ里面呢，topic对于channel的对关系呢，它就是一个广播。每一个生产的每个消息都会通过topic来发送到各个channel里面。然后channel呢在有选择性的发给这些下面的消费者。就比如说啊一个订单系统，一个订单发生的时候呢，可以通过通知各个channel啊，就是比如你要打包你要发货，然后在这个双十一的时候呢，很多消息，你就可以平均的负载均衡的发给这些消费者。

---

### 第 3 题
**什么是幂等性？如何保证消费幂等？** *(🔴D评分 - 明日到期)*

幂等次性就是你做过多次的结果，还是跟做一次的结果是一样的。那么在NSQ里面呢，我们如何保证这个消息幂等。首先我们可以在每个消息都加一个UUID。然后呢我们去查表看有没有重复消费过，或者呢我们就直接放到天生幂等的一个数据库里，比如mysql、redis、sqlite。
---

### 第 4 题
**什么是内存逃逸？** *(🟠C评分 - 2/4到期)*

内存逃逸指的是一个变量的一个生命周期，超过了一个栈的范围，被分配到堆里上了。那么到堆里的话，你就得由需CG回收，这样呢就会占用一定的性能。

---

### 第 5 题
**MySQL 执行流程是怎样的？** *(🟠C评分 - 2/4到期)*

第一步呢是连接器，主要是查询验证身份。第二步呢是查询缓存。这个在mysql8.0已经取消了，第三个是词法分析。第四个呢是优化，第五个是查询，第六个是存储引擎。

---

### 第 6 题
**并发事务会有哪些问题？（脏读、不可重复读、幻读、丢失修改）** *(🟠C评分 - 2/4到期)*

会有脏读的问题。比如你读到了一些事务还没有提交的一些数据。然后后面呢它把这个事务给取消提交。那么你读的就是一个脏的数据。然后是不可重复读，就是你在同一个事务里面读两次数据，这两次数据呢都不相同。第三个是幻读，就是还是同一事务，你读这次呢是读许多行，你再读第二次的时候呢，又读了许多行，或者是丢失了几许多行，这就叫做换读，第四个是丢失修改，就是两个事务同时对一个值来进行修改。那么另一个值就会覆盖掉以前的值，就会导致一个事务的修改丢失。

---

### 第 7 题
**混合加密的具体流程是怎样的？** *(🟠C评分 - 2/4到期)*

混合加密的具体流程就是首先生产者先使用这个对称加密，把要传的数据给加密了。然后呢，我们将这个 key把它给用非对称加密给他加密，然后传给消费者。消费者呢用这个非对称加密的密钥解密这个key，然后呢就能用这个key来解密，对称加密加密过的数据了。（虽然是表示出来了，但是我认为就是这么讲的话，可能会把面试官给绕晕。

---

## 常规复习 (5题)

### 第 8 题
**ACID 特性是什么？分别如何实现？** *(复习 - 明日到期)*

A是原子性，就是事物要么发成功，要么执行不成功。C呢是一致性。事物发生前后呢，数据是保持一致的，这就要靠其他三个性质来进行保证的。第三个是隔离性，就是事物之间呢互相隔离。这个是靠所和MCC来保证的。第四个是持久性，就是事物发生过的是一定是一直生效的。这个呢主要是靠redolog来实现。（每次都是持久性，这个表述有点不通顺。

---

### 第 9 题
**MVCC 是什么？如何实现？** *(复习 - 明日到期)*

已经熟记于心 改为2-9号复习

---

### 第 10 题
**切片是如何扩容的？什么时候触发扩容？** *(复习 - 明日到期)*

首先是当它的长度大于等于它的容量的时候，它就会进行一个扩容。如果它的长度小于256，那就是双倍扩容。如果大于等于，那就是平滑过渡到1.25倍扩容。

---

### 第 11 题
**Redis 有哪些基本数据类型？分别适用于什么场景？** *(复习 - 2/4到期)*

首先拿一个用户系统来说的话，如果要存一个验证码，我会选择使用string，它就是一个基本的字符串类型。接着如果要存一个对象的话，比如一个人他有姓名，有年龄，有这个身高，我就会使用哈希来存，它就是用于存储对象的。如果到了的消息列表，或者是说一个动态，我就会用list来存，它是一个有序的双向列表，还有就是比如说你要和它的一个共同好友。那么这就涉及到去重。这时候可以用set来使实现。然后就是一个排行榜，这里呢涉及到分数的一个排序，再 set就是一个适合。排行榜的一个东西，还有hyper捞唠，它是一个大规模的数据去重的一个东西。接着就是stream，这个是redis的一个消息队列。

---

### 第 12 题
**为什么 goroutine 比线程轻量？** *(复习 - 2/4到期)*

第一个它是初始占用很小，只有几kB。那么线程的话就是几十mB。接着它是用户态调用，不涉及系统调用，然后呢，go有一个GMP模型能够帮助优化goroutine的性能。然后就是go本身呢可以支持运行成千上万个携程，但是操作系统就只能几百几千个线程。

---

## 新题 (8题)

### 第 13 题
**为什么不选 ES 或 Meilisearch 而是 Bleve？** *(新题 - 文档中心)*

首先ES都是属于分布式的一个搜索引擎。那么我们需要的是一个单机的，对于单机来说，ES有点有点太重了。并且ES是用JVN的环境下运行的那动辄就是1到2GB。Meilisearch虽然初始占用小，但后面呢也是内存占用点大的，而believe它属于是GO支持好，然后呢它不需要额外的配置就是一个二进制包，跟sqlite一样的。

---

### 第 14 题
**人脸检测和识别的流程是怎样的？** *(新题 - 相册)*

主要是通过open cv来检测到人脸，然后识别它的一个向量特征，然后提取出来。接着你再用。

---

### 第 15 题
**DBSCAN 算法是什么？如何工作？** *(新题 - 相册)*

这里说知道两个概念啊，一个是一个社交范围，一个是你有多少个小弟，那么这样呢如果你社交范围，比如说一米之内啊，你有三个小弟，那么就说明你可以分为一类了。那这个工作流程，那这个工作流程就是你随便找一个点P，然后呢看他一米之内有没有点。如果有3个，那就把它设一个啊大佬，接着呢再遍历这三个点，看他附近有没有什么啊，小弟，这样不断扩充如果有一个人他既不在这些大老的范围之内，也不在也没有任何小弟，那就说明它是一个孤立的点。

---

### 第 16 题
**还了解过什么设计模式？项目中用过哪些？** *(新题 - 相册)*

最常见的就是一个单类模式，就是全局只有一个这个比如说变量啊什么的连接器呀，这就方方便复用。
接着呢还有一个责任链模式，就是比如你请求到达，在处理请求之间有许多事物，比如要检查验证身份，你要限流。


---

### 第 17 题
**进程、线程、协程的区别是什么？** *(新题 - 其它)*

首先，他们的开销是越来越小的一个形式。

---

### 第 18 题
**什么是闭包？它有哪些特性和使用场景？** *(新题 - Go)*

闭包就是一个匿名函数，加上变量的上下文。
比如要封装方法，相当于把这个成员给私有化，或者是说你想隐藏这个内部的实现方法只管调用。

---

### 第 19 题
**什么是缓存击穿？如何解决？** *(新题 - Redis)*

就是本来这些key呢都在缓存里，但是呢突然失效，导致呢一下子全部全部请求都落在了数据库上。那我们可以设置永不失效，或者是说提前预热。

---

### 第 20 题
**为什么用 B+ 树而不是其他数据结构？** *(新题 - MySQL)*

哈希表呢，它是支持O1时间取的，但是它不支持范位查询。
还有一个二叉树，它如果有可能变化成一个退化成一个列表，那就导致搜索的时间为ON了。
还有一个红黑二叉树，它呢主要是操作比较频繁，为了保持这个平衡

---

## 答题说明

1. 在每道题下方写下你的答案
2. 答完后说 **"答完了"** 或 **"复盘"**，我会帮你分析评分
3. 时间建议：技术题每题 2-3 分钟，总计约 45 分钟

**🔴 D评分题必须拿下！** 上次错了的要重点突破！

**加油！**

## 追问回答
1. 为什么此时服务器 S 能发回数据，而另一个未被 A 访问过的公网 IP 地址 B 却无法通过这个“洞”向 A 发送数据？
这就是受限锥形的机制，客户端这边只接受发送过包的ip返回数据

2. 所谓“打洞”成功，核心是让 NAT 设备认为接下来的外部入站包是“合法的响应”吗？
是的，前提是有验证（自己不清楚概念

3. 在高并发且数据频繁更新的业务场景下，如果缓存永不失效，你将采取什么策略来保证数据库（DB）与缓存（Cache）之间的数据一致性？
a. 如果是先删缓存，那么有可能a先删缓存，b去读取，读不到就去数据库读；再更新缓存，此时a才更新完数据库
b. 先更新数据库再删缓存的情况也不清楚